{
  "name": "questionnaire",
  "desc": "",
  "data": "<div {{#if page.elementId}}id=\"{{{page.elementId}}}\" {{/if}}>\r\n\r\n    {{#if questionnaire.title}}\r\n    <div class=\"jr-card-header \">\r\n        <h2><span>{{{../questionnaire.title}}}</span></h2>\r\n    </div>\r\n    {{/if}}\r\n\r\n    <input type=\"hidden\" class=\"questionnaire-currentPageNumber\" value=\"{{getVar 'currentPageNumber'}}\" />\r\n    <input type=\"hidden\" class=\"questionnaire-numPages\" value=\"{{getVar 'numPages'}}\" />\r\n    <input type=\"hidden\" class=\"questionnaire-pageNames\" value=\"{{getVar 'pageNames'}}\" />\r\n    <input type=\"hidden\" class=\"questionnaire-pageLabels\" value=\"{{getVar 'pageLabels'}}\" />\r\n    <input type=\"hidden\" class=\"questionnaire-pageIds\" value=\"{{getVar 'pageIds'}}\" />\r\n\r\n    <div class=\"stepper w-100 d-none\">\r\n        <div class=\"horizontal-stepper-linear\"></div>\r\n    </div>\r\n\r\n    <script>\r\n\t\tvar skippedPages = {{getVar 'skippedPages'}};\r\n\r\n\t\tjQuery(function() {\r\n\t\t\tvar html = \"\";\r\n\t\t\tvar currNumber = parseInt(jQuery('#{{options.containerId}} .questionnaire-currentPageNumber').val());\r\n\t\t\tvar maxNumber = parseInt(jQuery('#{{options.containerId}} .questionnaire-numPages').val());\r\n\t\t\tvar pageNames = jQuery('#{{options.containerId}} .questionnaire-pageNames').val().split(\",\");\r\n\t\t\tvar pageLabels = jQuery('#{{options.containerId}} .questionnaire-pageLabels').val().split(\",\");\r\n\t\t\tvar pageIds = jQuery('#{{options.containerId}} .questionnaire-pageIds').val().split(\",\");\r\n\t\t\tvar aveWidth = 100 / maxNumber;\r\n\r\n            if (maxNumber < 2) return;\r\n\r\n\t\t\tfor (var i = 1; i < maxNumber + 1; i++) {\r\n\t\t\t\tvar skippedPageClass = skippedPages[pageIds[i-1]] ? \"skipped\" : \"\";\r\n\t\t\t    var activeClass = \"\";\r\n\t\t\t    if (i <= currNumber) {\r\n\t\t\t        activeClass = \"active\";\r\n\t\t\t    }\r\n\t\t\t    html += '<div class=\"horizontal-stepper '+activeClass+' '+skippedPageClass+'\">';\r\n\t\t\t        if (i > 1) {\r\n\t\t\t            html += '<div class=\"divider\"><span></span></div>';\r\n\t\t\t        }\r\n\t\t\t        var clickAttr = \"\";\r\n\t\t\t        if (skippedPageClass.length === 0 && i < currNumber) {\r\n\t\t\t            clickAttr = 'onclick=\"jQuery(\\'#{{options.containerId}}\\').questionnaire(\\'gotoEvent\\', \\'' +\r\n\t\t\t\t\t\t\tpageNames[i-1] + '\\');\"';\r\n\t\t\t        }\r\n\t\t\t\t    html += '<span class=\"stepperlabel\" '+clickAttr+'>';\r\n                        html += '<span class=\"steppercircle\">';\r\n                            if (i < currNumber) {\r\n                                html += '<i class=\"zmdi zmdi-check zmdi-hc-fw\"></i>';\r\n                            } else {\r\n                                html += '<span>' + i + '</span>';\r\n                            }\r\n                        html += '</span>';\r\n                        html += '<span class=\"stepperpagename\">'+pageLabels[i-1]+'</span>';\r\n                    html += '</span>';\r\n                html += '</div>';\r\n\t\t\t}\r\n\r\n\t\t\tjQuery(\"#{{options.containerId}} .horizontal-stepper-linear\").html(html);\r\n\t\t\tjQuery(\"#{{options.containerId}} .stepper\").show();\r\n\t\t});\r\n\t</script>\r\n\t\t\t\t\r\n    <form class=\"questionnaire-form\" novalidate=\"novalidate\">\r\n        {{{subHtml}}}\r\n    </form>\r\n</div>"
}