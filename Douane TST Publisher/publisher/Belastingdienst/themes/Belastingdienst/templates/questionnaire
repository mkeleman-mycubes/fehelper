{
  "name": "questionnaire",
  "desc": "",
  "data": "{{#if questionnaire.title}} <h1>{{{../questionnaire.title}}}</h1> {{/if}}\r\n\t\r\n<input type=\"hidden\" class=\"questionnaire-currentPageNumber\" value=\"{{getVar 'currentPageNumber'}}\"/>\r\n<input type=\"hidden\" class=\"questionnaire-numPages\" value=\"{{getVar 'numPages'}}\"/>\r\n<input type=\"hidden\" class=\"questionnaire-pageNames\" value=\"{{getVar 'pageNames'}}\"/>\r\n<input type=\"hidden\" class=\"questionnaire-pageLabels\" value=\"{{getVar 'pageLabels'}}\"/>\r\n<input type=\"hidden\" class=\"questionnaire-pageIds\" value=\"{{getVar 'pageIds'}}\"/>\r\n\r\n<div class=\"fuelux\">\r\n\t<div class=\"wizard\">\r\n\t\t<ul class=\"steps\"></ul>\r\n\t</div>\r\n</div>\r\n\r\n<script>\r\n\tvar skippedPages = {{getVar 'skippedPages'}};\r\n\tvar hideSkippedPages = jQuery(\"#{{options.containerId}}\").hasClass('hide-skipped-pages');\r\n\r\n\tjQuery(function() {\r\n\t\tjQuery(\"#{{options.containerId}} .fuelux ul\").hide();\r\n\r\n\t\tvar html = \"\";\r\n\t\tvar currNumber = parseInt(jQuery('#{{options.containerId}} .questionnaire-currentPageNumber').val());\r\n\t\tvar maxNumber = parseInt(jQuery('#{{options.containerId}} .questionnaire-numPages').val());\r\n\t\tvar pageNames = jQuery('#{{options.containerId}} .questionnaire-pageNames').val().split(\",\");\r\n\t\tvar pageLabels = jQuery('#{{options.containerId}} .questionnaire-pageLabels').val().split(\",\");\r\n\t\tvar pageIds = jQuery('#{{options.containerId}} .questionnaire-pageIds').val().split(\",\");\r\n\t\tvar aveWidth = 100 / maxNumber;\r\n\t\tif(hideSkippedPages) {\r\n\t\t    var pagesToSkip = 0;\r\n\t\t    for(var i in skippedPages) {\r\n\t\t        if(skippedPages[i]) {\r\n\t\t            pagesToSkip++;\r\n\t\t        }\r\n\t\t    }\r\n\t\t    aveWidth = 100 / (maxNumber - pagesToSkip);\r\n\t\t}\r\n\r\n\t\tfor (var i = 1; i < maxNumber + 1; i++) {\r\n\r\n            if(hideSkippedPages && skippedPages[pageIds[i-1]]) {\r\n                continue;    \r\n            }\r\n            \r\n\t\t\tvar skippedPageClass = skippedPages[pageIds[i-1]] ? \"skipped\" : \"\";\r\n\t\t\tvar pageClass = \"\";\r\n\t\t\t\r\n\t\t\tif (i < currNumber) {\r\n\t\t\t    pageClass += \"complete \";\r\n\t\t\t} else if (i == currNumber) {\r\n\t\t\t    pageClass += \"active \";\r\n\t\t\t}\r\n\r\n            html += '<li class=\"'+pageClass+' '+skippedPageClass+'\" style=\"width:' + aveWidth  + '%;\">';\r\n                if(i < currNumber) {\r\n                    html+= '<a onclick=\"jQuery(\\'#{{options.containerId}}\\').questionnaire(\\'gotoEvent\\', \\'' +\r\n\t\t\t\t\t\t\t\t\t\t\tpageNames[i-1] + '\\');\">';\r\n                }\r\n                html += '<span class=\"badge badge-info\">' + i + '</span>';\r\n                html += '<span class=\"step-name\">'+pageLabels[i-1]+'</span>';\r\n                if(i != maxNumber) {\r\n                    html += '<span class=\"chevron\"></span>';\r\n                }\r\n                if(i < currNumber) {\r\n                    html += '</a>';\r\n                }\r\n            html += '</li>';\r\n\t\t}\r\n\r\n\t\tjQuery(\"#{{options.containerId}} .fuelux ul\").html(html).show();\r\n\t});\r\n</script>\r\n\r\n<form class=\"smart-form questionnaire-form\" novalidate=\"novalidate\">\r\n<label class=\"select\" style=\" position: absolute; right: 15px; top: 7px; width: 50px; \">\r\n    <select id=\"formLanguage\">\r\n        <option value=\"NL\">NL</option>\r\n        <option value=\"EN\">EN</option>\r\n    </select><i></i>\r\n</label>\r\n{{{subHtml}}}\r\n</form>\r\n\r\n<script>\r\n    jQuery(document).ready(function () {\r\n        var container = FE.getOption({ name: \"containerId\" });\r\n        var lang = FE.getOption({ name: \"locale\" });\r\n        \r\n        if (lang.length === 0) {\r\n            lang = \"NL\";\r\n        }\r\n\r\n        jQuery(\"#\" + container + \" #formLanguage\").val(lang);\r\n        jQuery(\"#\" + container + \" #formLanguage\").change(function() {\r\n            var lang = jQuery(this).val();\r\n            FE.setOption({\r\n                name: \"locale\",\r\n                value: lang\r\n            });\r\n\r\n            FE.init();\r\n        });\r\n    });\r\n</script>"
}