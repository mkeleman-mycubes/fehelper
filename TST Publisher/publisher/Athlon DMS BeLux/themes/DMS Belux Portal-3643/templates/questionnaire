{
  "name": "questionnaire",
  "desc": "",
  "data": "{{#if questionnaire.title}} <h2 class=\"form-title\">{{{../questionnaire.title}}}</h2> {{/if}}\r\n\r\n<input type=\"hidden\" class=\"questionnaire-currentPageNumber\" value=\"{{getVar 'currentPageNumber'}}\" />\r\n<input type=\"hidden\" class=\"questionnaire-numPages\" value=\"{{getVar 'numPages'}}\" />\r\n<input type=\"hidden\" class=\"questionnaire-pageNames\" value=\"{{getVar 'pageNames'}}\" />\r\n<input type=\"hidden\" class=\"questionnaire-pageLabels\" value=\"{{getVar 'pageLabels'}}\" />\r\n<input type=\"hidden\" class=\"questionnaire-pageIds\" value=\"{{getVar 'pageIds'}}\" />\r\n\r\n<div class=\"mat-horizontal-stepper-header-container\"></div>\r\n\r\n<script>\r\n    (function() {\r\n        var skippedPages = {{ getVar 'skippedPages'}};\r\n        var stepperContainer = jQuery('#{{options.containerId}} .mat-horizontal-stepper-header-container');\r\n\r\n        stepperContainer.hide();\r\n\r\n        var h = [];\r\n        var currNumber = parseInt(jQuery('#{{options.containerId}} .questionnaire-currentPageNumber').val());\r\n        var maxNumber = parseInt(jQuery('#{{options.containerId}} .questionnaire-numPages').val());\r\n        var pageNames = jQuery('#{{options.containerId}} .questionnaire-pageNames').val().split(\",\");\r\n        var pageLabels = jQuery('#{{options.containerId}} .questionnaire-pageLabels').val().split(\",\");\r\n        var pageIds = jQuery('#{{options.containerId}} .questionnaire-pageIds').val().split(\",\");\r\n\r\n        if (maxNumber < 2) return;\r\n        \r\n        for (var i = 1; i < maxNumber + 1; i++) {\r\n            var skippedPageClass = skippedPages[pageIds[i - 1]] ? \"skipped\" : \"\";\r\n            h.push('<div class=\"mat-step-header mat-focus-indicator mat-horizontal-stepper-header ng-star-inserted '+skippedPageClass+'\" tabindex=\"-1\">');\r\n                var iconClass = \"\";\r\n                var labelClass = \"\";\r\n                if (i < currNumber) {\r\n                    iconClass = \"mat-step-icon-selected\";\r\n                    labelClass = \"mat-step-label-active\";\r\n                } else if (i == currNumber) {\r\n                    iconClass = \"mat-step-icon-selected\";\r\n                    labelClass = \"mat-step-label-selected\";\r\n                }\r\n                h.push('<div class=\"mat-step-icon mat-step-icon-state-number '+iconClass+'\">');\r\n                    h.push('<div class=\"mat-step-icon-content\">');\r\n                        h.push('<span class=\"ng-star-inserted\">'+i+'</span>');\r\n                    h.push('</div>');\r\n                h.push('</div>');\r\n                h.push('<div class=\"mat-step-label mat-step-label-active '+labelClass+'\">'+pageLabels[i-1]+'</div>');\r\n            h.push('</div>');\r\n\r\n            if (i < maxNumber) {\r\n                h.push('<div class=\"mat-stepper-horizontal-line ng-star-inserted\"></div>');\r\n            }\r\n        }\r\n        \r\n        stepperContainer.html(h.join(''));\r\n        //stepperContainer.html(h.join('')).show();\r\n    })();\r\n</script>\r\n\r\n<form class=\"formsengine-form\" novalidate=\"novalidate\">\r\n    {{{subHtml}}}\r\n</form>"
}