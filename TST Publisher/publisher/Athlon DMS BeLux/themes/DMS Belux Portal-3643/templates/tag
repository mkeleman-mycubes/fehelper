{
  "name": "tag",
  "desc": "",
  "data": "<div {{#if question.elementId}}id=\"{{{question.elementId}}}\" {{/if}}\r\n    class=\"{{question.className}} mat-form-field mat-primary mat-form-field-type-mat-input mat-form-field-appearance-legacy mat-form-field-has-label ng-star-inserted tags-field\" data-qname=\"{{question.name}}\">\r\n\t <div class=\"mat-form-field-wrapper\">\r\n        <div class=\"mat-form-field-flex\">\r\n\t\t\t<div class=\"mat-form-field-infix\">\r\n\t\t\t\t<input type=\"text\" id=\"{{question.autoGeneratedId}}\" class=\"tags-selector\" class=\"{{question.className}}\"\r\n\t\t\t\t\t{{#if question.disabled}}disabled{{/if}}\r\n\t\t\t\t\tonkeyup=\"jQuery('#{{options.containerId}}').questionnaire('answerEvent', {{question.id}}, '{{ctx.id}}', this.value, this.value, false);\"\r\n\t\t\t\t\t   oninput=\"this.onkeyup=null; jQuery('#{{options.containerId}}').questionnaire('answerEvent', {{question.id}}, '{{ctx.id}}', this.value, this.value, false);\"/>\r\n\t\t\t\t<span class=\"mat-form-field-label-wrapper\">\r\n                    <label class=\"mat-form-field-label ng-star-inserted\"\r\n                        for=\"{{question.autoGeneratedId}}\">\r\n                        <div class=\"ng-star-inserted\">{{{question.label}}}</div>\r\n                    </label>\r\n                </span>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t\t<div class=\"mat-form-field-underline ng-star-inserted\">\r\n            <span class=\"mat-form-field-ripple\"></span>\r\n        </div>\r\n\t</div>\r\n\t{{#ifVarNotEqual 'error' ''}}\r\n        <div class=\"form-error\">{{{getVar 'error'}}}</div>\r\n    {{/ifVarNotEqual}}\r\n    <div class=\"sub-html\">{{{subHtml}}}</div>\r\n</div>\r\n\r\n<script>\r\n\r\n\tjQuery(document).ready(function() {\r\n\t\tvar defVal = \"{{getVar 'questAnswer' 0 1}}\";\r\n\r\n\t\t$(\"#{{{question.autoGeneratedId}}}\").val(defVal.length > 0 ? defVal.split(\",\") : []).select2({\r\n\t\t\ttags: defVal.length > 0 ? defVal.split(\",\") : \"\",\r\n\t\t\tplaceholder: \"{{{question.placeholder}}}\"\r\n\t\t\r\n\t\t}).on('change', function (e) {\r\n\t\t\tvar currVal = this.value.length > 0 ? this.value.split(\",\") : \"\";\r\n\t\t\tjQuery('#{{options.containerId}}').questionnaire('answerEvent', {{question.id}}, '{{ctx.id}}', currVal, currVal, false);\r\n\r\n\t\t}).on('select2-focus', function() {\r\n\t\t\tjQuery(this).parent().nextAll('.tooltip').css({\r\n\t\t\t\t\"right\": 0,\r\n\t\t\t\t\"left\": \"auto\",\r\n\t\t\t\t\"margin-bottom\": \"-15px\",\r\n\t\t\t\t\"bottom\": \"100%\",\r\n\t\t\t\t\"opacity\": 1\r\n\t\t\t});\r\n\r\n\t\t}).on('select2-blur', function() {\r\n\t\t\tjQuery(this).parent().nextAll('.tooltip').css({\r\n\t\t\t\t\"opacity\": 0,\r\n\t\t\t\t\"bottom\": \"32px\",\r\n\t\t\t\t\"left\": \"-9999px\",\r\n\t\t\t\t\"margin-bottom\": \"15px\",\r\n\t\t\t\t\"right\": \"auto\"\r\n\t\t\t});\r\n\t\t});\r\n\r\n\t});\r\n\r\n</script>"
}